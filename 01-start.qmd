---
title: "Introduction to RStudio"
---

<head>

```{=html}
<script src="https://kit.fontawesome.com/ece750edd7.js" crossorigin="anonymous"></script>
```

</head>

```{r global_options, include=FALSE}
knitr::opts_chunk$set(warning=FALSE, message=FALSE)
```

------------------------------------------------------------------------

We recommend using [RStudio](https://docs.posit.co/ide/user/) for this workshop. RStudio is an Integrated Development Environment (IDE) for R. It can be accessed in several ways.

-   Download RStudio Desktop and install it on your own computer.

    -   [Install R and RStudio](https://posit.co/download/rstudio-desktop/)

-   If you have an account on the DRP-HCB Bioinformatics servers, you can also access our RStudio server online.

## Using RStudio

A comprehensive RStudio user guide is available [here](https://docs.posit.co/ide/user/).

::::: row
::: col-md-6
The are 4 main panes, each with several tabs:

-   **Console** (bottom left)
    -   Here you can type commands into R
    -   Additional tabs may include a terminal and script outputs
-   **Source** (top left)
    -   Open and view files
    -   These can be raw txt, scripts or markdown
-   **Environments** (top right)
    -   Objects you have stored
    -   Commands you have typed
    -   Additional tabs for version control, database and website building...
-   **Output** (bottom right)
    -   System files (on the computer/server you are working on)
    -   Output from plots or applications
    -   Packages available
    -   Help pages
:::

::: col-md-6
![](images/Rstudio_panes.png)
:::
:::::

You can customise the appearance of RStudio under the menu option: Tools -\> Global Options...

### Setting up a new project

There is a drop-down **project** menu at the top right of RStudio. Click this, select "New Project..." and create one in a new directory. Make sure you have write permission for the directory you choose.

Once you have done this, this will be your **working directory**. Files will be saved (or loaded from) here by default unless you specify a full path. You can change your working directory under the **session** menu at the top.

Using Rstudio has the advantage that everything you do can be saved between RStudio sessions.

## Working in RStudio

You can work in 3 different ways in RStudio.

-   Use the **console** to run commands.
-   Create a new **R script** to save your commands as you go.
-   Create a **markdown** file to generate web pages or pdf documents from your analyses.

Commands can be typed directly into the console, but in order to keep track it's best to write them into a script and save your progress as you go. You can open a new R script under the File menu at the top left of RStudio.

## Running commands

To run commands directly from your script:

-   Place the cursor on the line of code you want to run
-   Use the **run** button above your script
-   Alternatively, use the shortcut keys.
    -   <kbd>Alt</kbd> + <kbd>Enter</kbd> to keep the cursor on the same line
    -   <kbd>Ctrl</kbd> + <kbd>Enter</kbd> to move to the next line

## Writing commands

As you write commands, RStudio will try to help you by showing you the syntax of the function you are using and the arguments it takes.

You can also use the <kbd>Tab</kbd> key to autocomplete names of functions, objects and arguments as you type them.

When using the console, the Up/Down arrow keys can be used to cycle through previously run commands.

## Console

In the console you should always see a `>` prompt. This shows that the console is ready to go.

If you can't see this, R may still be working. There is a red Stop light at the top right of the console when a command is running. You can use this or the <kbd>Esc</kbd> key to kill a command if it is taking too long or you have made a mistake.

If you see a `+` instead of `>`, R is waiting for more input. Sometimes this means you have typed the code wrong or forgotten to close a bracket or quotation. You can get back to the `>` prompt by pressing <kbd>Esc</kbd>.

## Installing libraries

Libraries provide additional functions in R and can be downloaded from several sources:

-   [CRAN](https://cran.r-project.org/) is the Comprehensive R Archive Network and hosts the majority of generic R packages.
-   [Bioconductor](https://www.bioconductor.org/) is a repository of biology specific packages.
-   Third party tools are often hosted on [github](https://www.github.com).

The examples below show how to install packages from these different sources. You only need to install a package once, but you will need to load it with `library` every time you start a new R session:

```{r, eval=FALSE}

## EXAMPLE ONLY DO NOT RUN

#install from CRAN with install.packages()
install.packages(c("tidyverse", "ggthemes"))

#Example to install from bioconductor with BiocManager
if (!requireNamespace("BiocManager", quietly = TRUE))
    install.packages("BiocManager")
BiocManager::install(c("DESeq2","genomation"))

Example to install from github with the devtools package
install.packages("devtools")
devtools::install_github("thomasp85/patchwork")

```

To load a specific package within an R session, use the `library` function:

```{r eval=F}
library(tidyverse)
```

We will install packages as we move through this course. Each section begins with a list of packages required. We recommend you install these in advance as it can be time consuming and sometimes problematic.

::: key-points
<h2><i class="fas fa-thumbtack"></i> How to follow each course</h2>

-   Create a new project in RStudio
-   Install the required libraries\
-   Open a new R script
-   It will be best to work with the tutorial and RStudio open together so you can easily switch between the two. Working on a wide split-screen or multiple desktops is the best setup.
-   I recommend typing out most of the commands rather than copy-and-pasting if you want to learn. Remember you can use the <kbd>Tab</kbd> key to save yourself from endless typing!
:::
